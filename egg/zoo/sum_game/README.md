## Introduction

The `play.py` script in this directory implements the sum game. [This directory](data_generation_scripts) contains scripts that can generate input files in the right format, as well as samples from their outputs.

Both the main and the auxiliary game scripts are thoroughly commented, as we hope they will serve as starting points to acquaint yourself with EGG, and personalize it for your purposes.

## Sum Game

The sum game is build on the reconstruction game. It reads input from files formatted as 'x y . x+y'.

Here is an example of how to run the sum game :

```bash
python -m egg.zoo.sum_game.play --mode 'rf' --train_data egg/zoo/sum_game/data_generation_scripts/sum_dataset_standard_n100_train.txt --validation_data egg/zoo/sum_game/data_generation_scripts/sum_dataset_standard_n100_test.txt --n_range 100 --n_epochs 3000 --batch_size 512 --validation_batch_size 1000 --max_len 3 --vocab_size 19 --sender_hidden 256 --receiver_hidden 512 --sender_embedding 5 --receiver_embedding 30 --receiver_cell "gru" --sender_cell "gru" --lr 0.01 --print_validation_events --loss xent --sender_entropy_coeff 0.18 --random_seed 1 --balanced_ce 0.3
```

We use the same parameters as in the reconstruction game. However, we added:
 * `--balanced_ce` -- The hyperparameters for the cross entropy weighting.
 
 To see all arguments that can be passed (and for more information on the ones above), run:
 
 ```bash
python -m egg.zoo.sum_game.play -h
```

## Output

You can display plot about what has been learned by the agent by passing the argument:
 * `--analyse True` 
It will display informations about synonyms and polysems. In addition, it will display the sum predictions and the symbols generated by the agents in 'analyse_message.pdf' and 'analyse_pred.pdf'.